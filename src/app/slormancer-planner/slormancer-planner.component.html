<div class="content">
    <div class="upload" *ngIf="!hasSave()">
        <input (change)="uploadSave($event)" type="file">
    </div>
    <div class="save" *ngIf="hasSave()">
        <div class="header">
            <button (click)="clearSave()">Clear</button>
        </div>
        <div class="navigation">
            <p>Class : <select [(ngModel)]="selectedClass"><option [value]="option.value" *ngFor="let option of CLASS_OPTIONS">{{option.label}}</option></select></p>
            <p>Item : <select (change)="itemChanged()" [(ngModel)]="selectedItem"><option [value]="i" *ngFor="let option of getItemOptions(); let i = index">{{option.label}}</option></select></p>
        </div>
        
        <div class="item" *ngIf="selectedExtendedItem !== null">
            <div class="json">
                <app-json [data]="selectedExtendedItem"></app-json>
            </div>
            <div class="parsed">
                <div class="icon {{selectedExtendedItem.rarity}}">
                    <img src="assets/img/{{selectedExtendedItem.type}}/{{selectedExtendedItem.base}}.png" />
                </div>
                <p>Name : {{selectedExtendedItem.name}}</p>
                <p>Slot : {{selectedExtendedItem.type}}</p>
                <p>Level : {{selectedExtendedItem.level}}</p>
                <p>Reinforcment : {{selectedExtendedItem?.reinforcment}}</p>

                <div class="affixes">
                    <div class="affixe {{affix.rarity}}" *ngFor="let affix of selectedExtendedItem.affixes">
                        <div class="value">{{affix.values[affix.value]}}<span *ngIf="affix.percent">%</span></div>
                        <div class="range">{{affix.values[affix.min]}}<span *ngIf="affix.percent">%</span> - {{affix.values[affix.max]}}<span *ngIf="affix.percent">%</span></div>
                        <div class="range-values">{{affix.min}} - {{affix.max}}</div>
                        <div class="name">{{affix.name}}</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>